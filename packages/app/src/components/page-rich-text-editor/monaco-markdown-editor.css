@layer common_components {
	/* Scope all styles to the component root and keep specificity low with :where() */
	:where(.MonacoMarkdownEditor) {
		& :where(.yRemoteSelection) {
			filter: opacity(0.5);
			background-color: var(--user-color, hsl(var(--ring) / 0.75));
		}

		/* Remote caret/selection head decoration */
		& :where(.yRemoteSelectionHead) {
			position: absolute;
			box-sizing: border-box;
			height: 100%;
			border-left: 2px solid var(--user-color, hsl(var(--ring)));

			&::after {
				position: absolute;
				/* Content is injected dynamically per user by the component */
				content: "";
				top: -1.4em;
				left: -1px;
				padding: 0.125rem 0.375rem;
				background: var(--user-color, hsl(var(--ring)));
				color: white;
				font-size: 12px;
				line-height: 1;
				border-radius: 0.25rem;
				white-space: nowrap;
				pointer-events: none;
			}
		}
	}
}

/* Separate decorations: accept & discard */
.MonacoMarkdownDiffEditor-accept,
.MonacoMarkdownDiffEditor-discard {
	position: absolute;
	top: 50%;
	left: 0;
	width: 24px !important; /* override Monaco inline width */
	height: 24px !important;
	transform: translateY(-50%);
	border-radius: 4px;
	border: 1px solid hsl(var(--border));
	cursor: pointer;
	z-index: 2; /* above codicon glyphs */
}

/* offset away from +/- glyphs in the gutter */
.MonacoMarkdownDiffEditor-accept {
	transform: translateY(-50%) translateX(1em);
	background: hsl(var(--success, 142 76% 36%));
}

/* sit to the right of accept */
.MonacoMarkdownDiffEditor-discard {
	transform: translateY(-50%) translateX(calc(1em + 24px + 0.25rem));
	background: hsl(var(--muted));
}
